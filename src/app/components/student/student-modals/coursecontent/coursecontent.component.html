<!-- <style>
    .modal-content.custom-modal-content {
        max-height: 80vh; /* Adjust as needed */
        overflow-y: auto;
    }

    .container {
        padding: 20px;
    }

    .title {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .contentwrap {
        display: flex;
        flex-direction: column;
    }

    .flexwrap {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
    }

    .midwrap, .btnwrap, .ratewrap {
        flex: 1;
        margin: 10px;
    }

    .detailswrap, .lessonwrap {
        margin-top: 20px;
    }

    .lessoncontainer {
        max-height: 170px; /* Adjust as needed */
        overflow-y: auto;
    }

    .close-button {
        background: none;
        border: none;
        font-size: 1.5em;
        cursor: pointer;
    }

    .poppins-b {
        font-family: 'Poppins', sans-serif;
        font-weight: bold;
    }

    .poppins {
        font-family: 'Poppins', sans-serif;
    }
</style>

<div class="modal-content custom-modal-content">
    <div class="container">
        <div class="title">
            <h1 class="poppins-b">{{course.course}}</h1>
            <button class="close-button" (click)="close()">&#10006;</button>
        </div>

        <div class="contentwrap">
            <img class="vid w-full h-full object-cover" [src]=" course?.image ? getUrl(course.image) : 'assets/login/logonew.png'">
            <div class="flexwrap">
                <div class="midwrap">
                    <div class="buttonwrap">
                        <div class="desc">
                            <div class="textwrap poppins">
                                <img src="assets/enrollcourse/User.png" alt="">
                                <p class="ml-2"> Creator: </p>
                                <p class="ml-1 name">{{course.firstname + ' ' + course.lastname}}</p>
                            </div>
                            <div class="textwrap poppins">
                            </div>
                            <div class="textwrap poppins">
                                <img src="assets/enrollcourse/Chart.png" alt="">
                                <p class="ml-2"> Lessons: </p>
                                <p class="ml-1 name"> x {{course.lessoncount}}</p>
                            </div>
                            <div class="textwrap poppins">
                                <img src="assets/enrollcourse/Document.png" alt="">
                                <p class="ml-2"> Language: </p>
                                <p class="ml-1 name">{{course.Objectives}}</p>
                            </div>
                            <div class="descfooter"></div>
                        </div>
                    </div>
                    <div class="btnwrap">
                        <button (click)="enroll()" class="poppins">Enroll Now</button>
                        <input [(ngModel)]="courseCode" class="mt-3 ml-10 h-8 w-52 p-2 rounded-md poppins" placeholder="Course code :" type="text">
                    </div>
                </div>
                <div class="ratewrap">
                    <ngb-rating class="rate" [rate]="course.complexity"></ngb-rating>
                    <span>
                        <p *ngIf="course.complexity <= 2" class="level">(Beginner)</p>
                        <p *ngIf="course.complexity < 4 && course.complexity > 2" class="level">(Intermediate)</p>
                        <p *ngIf="course.complexity >= 4" class="level">(Expert)</p>
                    </span>
                </div>
            </div>
            <div class="detailswrap">
                <div class="details poppins-b">
                    <h1>Details</h1>
                </div>
                <p class="detailscontent" [ngClass]="{ 'show-more': showFullContent }">{{course.details ? course.details : '[NONE]'}}</p>
                <button (click)="toggleReadMore()">{{ showFullContent ? 'Show less' : 'Read more' }}</button>
            </div>
            <div class="lessonwrap">
                <div class="lesson poppins-b">
                    <h1>Lessons</h1>
                </div>
                <div *ngFor="let lesson of lessons; let i = index" class="lessoncontainer">
                    <div *ngIf="lessons.length == 0">
                        Currently, this course has no lessons.
                    </div>
                    <div  class="lessontitle">
                        <div class="thislesson">Lesson {{i+1}} : <span class="poppins-b">{{lesson.title}}</span></div>
                        <div class="lessontext">
                            <p>{{lesson.details}}</p>
                        </div>
                    </div>
                  
                </div>
            </div>
        </div>
    </div>
</div> -->


<div class="modal-content custom-modal-content max-h-[80vh] overflow-y-auto bg-white rounded-lg p-6 shadow-lg w-[700px] mx-auto">
    <div class="container p-4 space-y-6">
        <!-- Title and Close Button -->
        <div class="title flex justify-between items-center text-left text-[#5E5E6A] text-2xl font-semibold">
            <h1 class="font-poppins font-bold">{{course.course}}</h1>
            <button class="close-button text-2xl cursor-pointer bg-none border-none" (click)="close()">&#10006;</button>
        </div>

        <!-- Content Section -->
        <div class="contentwrap flex flex-col gap-6">
            <!-- Image Section -->
            <div class="w-full">
                <img class="w-full h-[300px] object-cover shadow-md rounded-md" [src]="course?.image ? getUrl(course.image) : 'assets/login/logonew.png'">
            </div>
            
            <!-- Creator, Lessons, and Language Info -->
            <div class="flex justify-between flex-wrap gap-6">
                <div class="flex-1 space-y-4">
                    <!-- Information Card -->
                    <div class="bg-white shadow-md rounded-md p-4 space-y-2">
                        <div class="flex items-center text-sm">
                            <img src="assets/enrollcourse/User.png" alt="" class="h-5 w-5 mr-2">
                            <p class="font-medium">Creator: <span class="font-semibold text-[#0172af]">{{course.firstname + ' ' + course.lastname}}</span></p>
                        </div>
                        <div class="flex items-center text-sm">
                            <img src="assets/enrollcourse/Chart.png" alt="" class="h-5 w-5 mr-2">
                            <p class="font-medium">Lessons: <span class="font-semibold">x {{course.lessoncount}}</span></p>
                        </div>
                        <div class="flex items-center text-sm">
                            <img src="assets/enrollcourse/Document.png" alt="" class="h-5 w-5 mr-2">
                            <p class="font-medium">Objectives: <span class="font-semibold">{{course.details}} {{course.objectives}}</span></p>
                        </div>
                    </div>

                    <!-- Enroll Button and Input -->
                    <div class="flex flex-col gap-3">
                        <input [(ngModel)]="courseCode" class="mt-3 h-10 w-full p-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-[#0172af] font-poppins" placeholder="Course code :" type="text">

                        <button (click)="enroll()" class="font-poppins bg-gradient-to-r from-[#0172af] to-[#74febd] w-full h-12 text-white rounded-md hover:shadow-md transition-shadow duration-200">Enroll Now</button>
                    </div>
                </div>

                <!-- Rating Section -->
                <!-- <div class="flex flex-col items-center space-y-2 text-center">
                    <ngb-rating class="rate text-[#0172af]" [rate]="course.complexity"></ngb-rating>
                    <p *ngIf="course.complexity <= 2" class="text-xs">(Beginner)</p>
                    <p *ngIf="course.complexity < 4 && course.complexity > 2" class="text-xs">(Intermediate)</p>
                    <p *ngIf="course.complexity >= 4" class="text-xs">(Expert)</p>
                </div> -->
            </div>

            <!-- Details Section -->
            <div class="detailswrap space-y-4">
                <div class="details font-poppins text-xl font-bold text-[#0172af]">
                    <h1>Details</h1>
                </div>
                <p class="detailscontent max-h-[100px] overflow-hidden text-gray-600" [ngClass]="{ 'show-more': showFullContent }">{{course.details ? course.details : '[NONE]'}}</p>
                <button (click)="toggleReadMore()" class="text-[#0172af] font-medium">{{ showFullContent ? 'Show less' : 'Read more' }}</button>
            </div>

            <!-- Lessons Section -->
            <div class="lessonwrap space-y-4">
                <div class="lesson font-poppins text-xl font-bold text-[#0172af]">
                    <h1>Lessons</h1>
                </div>
                <div *ngFor="let lesson of lessons; let i = index" class="bg-white shadow-md rounded-md p-4 mb-4">
                    <div *ngIf="lessons.length == 0" class="text-center text-gray-500">
                        Currently, this course has no lessons.
                    </div>
                    <div class="lessontitle space-y-2">
                        <div class="thislesson text-lg text-gray-700">Lesson {{i+1}}: <span class="font-semibold">{{lesson.title}}</span></div>
                        <div class="lessontext text-sm text-gray-600">
                            <p>{{lesson.details}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
